
# Restore the original system path if for some reason some 
# command in your ~/bin directory does not work
function restore_path() {
        PATH="${ORIGINAL_PATH}"
        export PATH
}


function compressed_transfer {
  other_host="$1"
  shift
  files="$@"
  if [[ -z "$other_host" || -z "$files" ]]; then
    echo "compressed_transfer <user@remote> <file1 file2 ...>"
    return 1
  fi

  if [[ -z `which lzop 2> /dev/null` ]]; then
    echo "Missing lzop"
    return 1
  fi

	tar c --use-compress-program=lzop "$files" | \
	ssh "$other_host" tar x --use-compress-program=lzop
}

function is_mac() {
  cmd=`which uname`
  if [ -z $cmd ];then
    return 1;
  else
    $cmd |grep Darwin 1>/dev/null
  fi
}

# Zach Holman's git aliases converted to functions for more flexibility
#   @see https://github.com/holman/dotfiles/commit/2c077a95a610c8fd57da2bd04aa2c85e6fd37b7c#diff-4335824c6d289f1b8b41f7f10bf3a2e7
#   Being functions allow them to take arguments, such as additional options or filenames
#
#   The -r flag to `less` is uses to make it work with the color escape codes
#   @depends on strip-diff-prefix alias
function gd() {   git diff          --color $@ | strip-diff-prefix | less -r; }
function gds() {  git diff --staged --color $@ | strip-diff-prefix | less -r; }
function gdw() {  git diff          --color --word-diff $@         | less -r; }
function gdws() { git diff --staged --color --word-diff $@         | less -r; }

# vim: syntax=sh
